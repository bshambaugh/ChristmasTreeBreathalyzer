{"ast":null,"code":"import{Switch}from'@mui/material';import{WEB_SOCKET_ROOT}from'../api/endpoints';import{BlockFormControlLabel,FormLoader,MessageBox,SectionContent}from'../components';import{updateValue,useWs}from'../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LIGHT_SETTINGS_WEBSOCKET_URL=WEB_SOCKET_ROOT+\"lightState\";var LightStateWebSocketForm=function LightStateWebSocketForm(){var _useWs=useWs(LIGHT_SETTINGS_WEBSOCKET_URL),connected=_useWs.connected,updateData=_useWs.updateData,data=_useWs.data;var updateFormValue=updateValue(updateData);var content=function content(){if(!connected||!data){return/*#__PURE__*/_jsx(FormLoader,{message:\"Connecting to WebSocket\\u2026\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MessageBox,{level:\"info\",message:\"The switch below controls the LED via the WebSocket. It will automatically update whenever the LED state changes.\",my:2}),/*#__PURE__*/_jsx(BlockFormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{name:\"led_on\",checked:data.led_on,onChange:updateFormValue,color:\"primary\"}),label:\"LED State?\"})]});};return/*#__PURE__*/_jsx(SectionContent,{title:\"WebSocket Example\",titleGutter:true,children:content()});};export default LightStateWebSocketForm;","map":{"version":3,"sources":["/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/src/project/LightStateWebSocketForm.tsx"],"names":["Switch","WEB_SOCKET_ROOT","BlockFormControlLabel","FormLoader","MessageBox","SectionContent","updateValue","useWs","LIGHT_SETTINGS_WEBSOCKET_URL","LightStateWebSocketForm","connected","updateData","data","updateFormValue","content","led_on"],"mappings":"AAEA,OAASA,MAAT,KAAuB,eAAvB,CAEA,OAASC,eAAT,KAAgC,kBAAhC,CACA,OAASC,qBAAT,CAAgCC,UAAhC,CAA4CC,UAA5C,CAAwDC,cAAxD,KAA8E,eAA9E,CACA,OAASC,WAAT,CAAsBC,KAAtB,KAAmC,UAAnC,C,6IAIA,MAAO,IAAMC,CAAAA,4BAA4B,CAAGP,eAAe,CAAG,YAAvD,CAEP,GAAMQ,CAAAA,uBAA2B,CAAG,QAA9BA,CAAAA,uBAA8B,EAAM,CACxC,WAAwCF,KAAK,CAAaC,4BAAb,CAA7C,CAAQE,SAAR,QAAQA,SAAR,CAAmBC,UAAnB,QAAmBA,UAAnB,CAA+BC,IAA/B,QAA+BA,IAA/B,CAEA,GAAMC,CAAAA,eAAe,CAAGP,WAAW,CAACK,UAAD,CAAnC,CAEA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAI,CAACJ,SAAD,EAAc,CAACE,IAAnB,CAAyB,CACvB,mBAAQ,KAAC,UAAD,EAAY,OAAO,CAAC,+BAApB,EAAR,CACD,CACD,mBACE,wCACE,KAAC,UAAD,EACE,KAAK,CAAC,MADR,CAEE,OAAO,CAAC,mHAFV,CAGE,EAAE,CAAE,CAHN,EADF,cAME,KAAC,qBAAD,EACE,OAAO,cACL,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAEA,IAAI,CAACG,MAFhB,CAGE,QAAQ,CAAEF,eAHZ,CAIE,KAAK,CAAC,SAJR,EAFJ,CASE,KAAK,CAAC,YATR,EANF,GADF,CAoBD,CAxBD,CA0BA,mBACE,KAAC,cAAD,EAAgB,KAAK,CAAC,mBAAtB,CAA0C,WAAW,KAArD,UACGC,OAAO,EADV,EADF,CAKD,CApCD,CAsCA,cAAeL,CAAAA,uBAAf","sourcesContent":["import { FC } from 'react';\n\nimport { Switch } from '@mui/material';\n\nimport { WEB_SOCKET_ROOT } from '../api/endpoints';\nimport { BlockFormControlLabel, FormLoader, MessageBox, SectionContent } from '../components';\nimport { updateValue, useWs } from '../utils';\n\nimport { LightState } from './types';\n\nexport const LIGHT_SETTINGS_WEBSOCKET_URL = WEB_SOCKET_ROOT + \"lightState\";\n\nconst LightStateWebSocketForm: FC = () => {\n  const { connected, updateData, data } = useWs<LightState>(LIGHT_SETTINGS_WEBSOCKET_URL);\n\n  const updateFormValue = updateValue(updateData);\n\n  const content = () => {\n    if (!connected || !data) {\n      return (<FormLoader message=\"Connecting to WebSocketâ€¦\" />);\n    }\n    return (\n      <>\n        <MessageBox\n          level=\"info\"\n          message=\"The switch below controls the LED via the WebSocket. It will automatically update whenever the LED state changes.\"\n          my={2}\n        />\n        <BlockFormControlLabel\n          control={\n            <Switch\n              name=\"led_on\"\n              checked={data.led_on}\n              onChange={updateFormValue}\n              color=\"primary\"\n            />\n          }\n          label=\"LED State?\"\n        />\n      </>\n    );\n  };\n\n  return (\n    <SectionContent title='WebSocket Example' titleGutter>\n      {content()}\n    </SectionContent>\n  );\n};\n\nexport default LightStateWebSocketForm;\n"]},"metadata":{},"sourceType":"module"}