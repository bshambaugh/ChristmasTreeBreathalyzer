{"ast":null,"code":"import{useContext,useEffect}from'react';import{Navigate,useLocation}from\"react-router-dom\";import{AuthenticatedContext,AuthenticationContext}from'../../contexts/authentication/context';import{storeLoginRedirect}from'../../api/authentication';import{jsx as _jsx}from\"react/jsx-runtime\";var RequireAuthenticated=function RequireAuthenticated(_ref){var children=_ref.children;var authenticationContext=useContext(AuthenticationContext);var location=useLocation();useEffect(function(){if(!authenticationContext.me){storeLoginRedirect(location);}});return authenticationContext.me?/*#__PURE__*/_jsx(AuthenticatedContext.Provider,{value:authenticationContext,children:children}):/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\"});};export default RequireAuthenticated;","map":{"version":3,"sources":["/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/src/components/routing/RequireAuthenticated.tsx"],"names":["useContext","useEffect","Navigate","useLocation","AuthenticatedContext","AuthenticationContext","storeLoginRedirect","RequireAuthenticated","children","authenticationContext","location","me"],"mappings":"AAAA,OAAaA,UAAb,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CAEA,OAASC,oBAAT,CAA0DC,qBAA1D,KAAuF,uCAAvF,CACA,OAASC,kBAAT,KAAmC,0BAAnC,C,2CAGA,GAAMC,CAAAA,oBAA+C,CAAG,QAAlDA,CAAAA,oBAAkD,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACxE,GAAMC,CAAAA,qBAAqB,CAAGT,UAAU,CAACK,qBAAD,CAAxC,CACA,GAAMK,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAI,CAACQ,qBAAqB,CAACE,EAA3B,CAA+B,CAC7BL,kBAAkB,CAACI,QAAD,CAAlB,CACD,CACF,CAJQ,CAAT,CAMA,MAAOD,CAAAA,qBAAqB,CAACE,EAAtB,cACL,KAAC,oBAAD,CAAsB,QAAtB,EAA+B,KAAK,CAAEF,qBAAtC,UACGD,QADH,EADK,cAKL,KAAC,QAAD,EAAU,EAAE,CAAC,eAAb,EALF,CAMD,CAhBD,CAkBA,cAAeD,CAAAA,oBAAf","sourcesContent":["import { FC, useContext, useEffect } from 'react';\nimport { Navigate, useLocation } from \"react-router-dom\";\n\nimport { AuthenticatedContext, AuthenticatedContextValue, AuthenticationContext } from '../../contexts/authentication/context';\nimport { storeLoginRedirect } from '../../api/authentication';\nimport { RequiredChildrenProps } from '../../utils';\n\nconst RequireAuthenticated: FC<RequiredChildrenProps> = ({ children }) => {\n  const authenticationContext = useContext(AuthenticationContext);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!authenticationContext.me) {\n      storeLoginRedirect(location);\n    }\n  });\n\n  return authenticationContext.me ?\n    <AuthenticatedContext.Provider value={authenticationContext as AuthenticatedContextValue}>\n      {children}\n    </AuthenticatedContext.Provider>\n    :\n    <Navigate to='/unauthorized' />;\n};\n\nexport default RequireAuthenticated;\n"]},"metadata":{},"sourceType":"module"}