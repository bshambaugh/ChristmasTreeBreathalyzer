{"ast":null,"code":"import _objectSpread from\"/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Fragment}from'react';import{useDropzone}from'react-dropzone';import{Box,Button,LinearProgress,Typography,useTheme}from'@mui/material';import CloudUploadIcon from'@mui/icons-material/CloudUpload';import CancelIcon from'@mui/icons-material/Cancel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var progressPercentage=function progressPercentage(progress){return Math.round(progress.loaded*100/progress.total);};var getBorderColor=function getBorderColor(theme,props){if(props.isDragAccept){return theme.palette.success.main;}if(props.isDragReject){return theme.palette.error.main;}if(props.isDragActive){return theme.palette.info.main;}return theme.palette.grey[700];};var SingleUpload=function SingleUpload(_ref){var onDrop=_ref.onDrop,onCancel=_ref.onCancel,accept=_ref.accept,uploading=_ref.uploading,progress=_ref.progress;var dropzoneState=useDropzone({onDrop:onDrop,accept:accept,disabled:uploading,multiple:false});var getRootProps=dropzoneState.getRootProps,getInputProps=dropzoneState.getInputProps;var theme=useTheme();var progressText=function progressText(){if(uploading){if(progress!==null&&progress!==void 0&&progress.lengthComputable){return\"Uploading: \".concat(progressPercentage(progress),\"%\");}return\"Uploading\\u2026\";}return\"Drop file or click here\";};return/*#__PURE__*/_jsxs(Box,_objectSpread(_objectSpread({},getRootProps({sx:{py:8,px:2,borderWidth:2,borderRadius:2,borderStyle:'dashed',color:theme.palette.grey[700],transition:'border .24s ease-in-out',width:'100%',cursor:uploading?'default':'pointer',borderColor:getBorderColor(theme,dropzoneState)}})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsxs(Box,{flexDirection:\"column\",display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(CloudUploadIcon,{fontSize:\"large\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:progressText()}),uploading&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Box,{width:\"100%\",p:2,children:/*#__PURE__*/_jsx(LinearProgress,{variant:!progress||progress.lengthComputable?\"determinate\":\"indeterminate\",value:!progress?0:progress.lengthComputable?progressPercentage(progress):0})}),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(CancelIcon,{}),variant:\"contained\",color:\"secondary\",onClick:onCancel,children:\"Cancel\"})]})]})]}));};export default SingleUpload;","map":{"version":3,"sources":["/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/src/components/upload/SingleUpload.tsx"],"names":["Fragment","useDropzone","Box","Button","LinearProgress","Typography","useTheme","CloudUploadIcon","CancelIcon","progressPercentage","progress","Math","round","loaded","total","getBorderColor","theme","props","isDragAccept","palette","success","main","isDragReject","error","isDragActive","info","grey","SingleUpload","onDrop","onCancel","accept","uploading","dropzoneState","disabled","multiple","getRootProps","getInputProps","progressText","lengthComputable","sx","py","px","borderWidth","borderRadius","borderStyle","color","transition","width","cursor","borderColor"],"mappings":"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","sourcesContent":["import { FC, Fragment } from 'react';\nimport { useDropzone, DropzoneState } from 'react-dropzone';\n\nimport { Box, Button, LinearProgress, Theme, Typography, useTheme } from '@mui/material';\n\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport CancelIcon from '@mui/icons-material/Cancel';\n\nconst progressPercentage = (progress: ProgressEvent) => Math.round((progress.loaded * 100) / progress.total);\n\nconst getBorderColor = (theme: Theme, props: DropzoneState) => {\n  if (props.isDragAccept) {\n    return theme.palette.success.main;\n  }\n  if (props.isDragReject) {\n    return theme.palette.error.main;\n  }\n  if (props.isDragActive) {\n    return theme.palette.info.main;\n  }\n  return theme.palette.grey[700];\n};\n\nexport interface SingleUploadProps {\n  onDrop: (acceptedFiles: File[]) => void;\n  onCancel: () => void;\n  accept?: string | string[];\n  uploading: boolean;\n  progress?: ProgressEvent;\n}\n\nconst SingleUpload: FC<SingleUploadProps> = ({ onDrop, onCancel, accept, uploading, progress }) => {\n  const dropzoneState = useDropzone({ onDrop, accept, disabled: uploading, multiple: false });\n  const { getRootProps, getInputProps } = dropzoneState;\n  const theme = useTheme();\n\n  const progressText = () => {\n    if (uploading) {\n      if (progress?.lengthComputable) {\n        return `Uploading: ${progressPercentage(progress)}%`;\n      }\n      return \"Uploading\\u2026\";\n    }\n    return \"Drop file or click here\";\n  };\n\n  return (\n    <Box\n      {...getRootProps({\n        sx: {\n          py: 8,\n          px: 2,\n          borderWidth: 2,\n          borderRadius: 2,\n          borderStyle: 'dashed',\n          color: theme.palette.grey[700],\n          transition: 'border .24s ease-in-out',\n          width: '100%',\n          cursor: uploading ? 'default' : 'pointer',\n          borderColor: getBorderColor(theme, dropzoneState)\n        }\n      })}\n    >\n      <input {...getInputProps()} />\n      <Box flexDirection=\"column\" display=\"flex\" alignItems=\"center\">\n        <CloudUploadIcon fontSize='large' />\n        <Typography variant=\"h6\">\n          {progressText()}\n        </Typography>\n        {uploading && (\n          <Fragment>\n            <Box width=\"100%\" p={2}>\n              <LinearProgress\n                variant={!progress || progress.lengthComputable ? \"determinate\" : \"indeterminate\"}\n                value={!progress ? 0 : progress.lengthComputable ? progressPercentage(progress) : 0}\n              />\n            </Box>\n            <Button startIcon={<CancelIcon />} variant=\"contained\" color=\"secondary\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </Fragment>\n        )}\n      </Box>\n    </Box >\n  );\n};\n\nexport default SingleUpload;\n"]},"metadata":{},"sourceType":"module"}