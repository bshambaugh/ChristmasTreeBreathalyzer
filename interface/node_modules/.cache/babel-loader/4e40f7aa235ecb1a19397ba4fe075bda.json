{"ast":null,"code":"import React,{useContext}from'react';import{Navigate,Routes,Route}from'react-router-dom';import{Tab}from'@mui/material';import{useRouterTab,RouterTabs,useLayoutTitle,RequireAdmin}from'../../components';import{AuthenticatedContext}from'../../contexts/authentication';import{FeaturesContext}from'../../contexts/features';import UploadFirmwareForm from'./UploadFirmwareForm';import SystemStatusForm from'./SystemStatusForm';import OTASettingsForm from'./OTASettingsForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var System=function System(){useLayoutTitle(\"System\");var _useContext=useContext(AuthenticatedContext),me=_useContext.me;var _useContext2=useContext(FeaturesContext),features=_useContext2.features;var _useRouterTab=useRouterTab(),routerTab=_useRouterTab.routerTab;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RouterTabs,{value:routerTab,children:[/*#__PURE__*/_jsx(Tab,{value:\"status\",label:\"System Status\"}),features.ota&&/*#__PURE__*/_jsx(Tab,{value:\"ota\",label:\"OTA Settings\",disabled:!me.admin}),features.upload_firmware&&/*#__PURE__*/_jsx(Tab,{value:\"upload\",label:\"Upload Firmware\",disabled:!me.admin})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"status\",element:/*#__PURE__*/_jsx(SystemStatusForm,{})}),features.ota&&/*#__PURE__*/_jsx(Route,{path:\"ota\",element:/*#__PURE__*/_jsx(RequireAdmin,{children:/*#__PURE__*/_jsx(OTASettingsForm,{})})}),features.upload_firmware&&/*#__PURE__*/_jsx(Route,{path:\"upload\",element:/*#__PURE__*/_jsx(RequireAdmin,{children:/*#__PURE__*/_jsx(UploadFirmwareForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"status\"})})]})]});};export default System;","map":{"version":3,"sources":["/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/src/framework/system/System.tsx"],"names":["React","useContext","Navigate","Routes","Route","Tab","useRouterTab","RouterTabs","useLayoutTitle","RequireAdmin","AuthenticatedContext","FeaturesContext","UploadFirmwareForm","SystemStatusForm","OTASettingsForm","System","me","features","routerTab","ota","admin","upload_firmware"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAoBC,UAApB,KAAsC,OAAtC,CACA,OAASC,QAAT,CAAmBC,MAAnB,CAA2BC,KAA3B,KAAwC,kBAAxC,CAEA,OAASC,GAAT,KAAoB,eAApB,CAEA,OAASC,YAAT,CAAuBC,UAAvB,CAAmCC,cAAnC,CAAmDC,YAAnD,KAAuE,kBAAvE,CACA,OAASC,oBAAT,KAAqC,+BAArC,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,6IAEA,GAAMC,CAAAA,MAAU,CAAG,QAAbA,CAAAA,MAAa,EAAM,CACvBP,cAAc,CAAC,QAAD,CAAd,CAEA,gBAAeP,UAAU,CAACS,oBAAD,CAAzB,CAAQM,EAAR,aAAQA,EAAR,CACA,iBAAqBf,UAAU,CAACU,eAAD,CAA/B,CAAQM,QAAR,cAAQA,QAAR,CACA,kBAAsBX,YAAY,EAAlC,CAAQY,SAAR,eAAQA,SAAR,CAEA,mBACE,wCACE,MAAC,UAAD,EAAY,KAAK,CAAEA,SAAnB,wBACE,KAAC,GAAD,EAAK,KAAK,CAAC,QAAX,CAAoB,KAAK,CAAC,eAA1B,EADF,CAEGD,QAAQ,CAACE,GAAT,eACC,KAAC,GAAD,EAAK,KAAK,CAAC,KAAX,CAAiB,KAAK,CAAC,cAAvB,CAAsC,QAAQ,CAAE,CAACH,EAAE,CAACI,KAApD,EAHJ,CAKGH,QAAQ,CAACI,eAAT,eACC,KAAC,GAAD,EAAK,KAAK,CAAC,QAAX,CAAoB,KAAK,CAAC,iBAA1B,CAA4C,QAAQ,CAAE,CAACL,EAAE,CAACI,KAA1D,EANJ,GADF,cAUE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,gBAAD,IAA9B,EADF,CAEGH,QAAQ,CAACE,GAAT,eACC,KAAC,KAAD,EACE,IAAI,CAAC,KADP,CAEE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,eAAD,IADF,EAHJ,EAHJ,CAYGF,QAAQ,CAACI,eAAT,eACC,KAAC,KAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,kBAAD,IADF,EAHJ,EAbJ,cAsBE,KAAC,KAAD,EAAO,IAAI,CAAC,IAAZ,CAAiB,OAAO,cAAE,KAAC,QAAD,EAAU,OAAO,KAAjB,CAAkB,EAAE,CAAC,QAArB,EAA1B,EAtBF,GAVF,GADF,CAsCD,CA7CD,CA+CA,cAAeN,CAAAA,MAAf","sourcesContent":["import React, { FC, useContext } from 'react';\nimport { Navigate, Routes, Route } from 'react-router-dom';\n\nimport { Tab } from '@mui/material';\n\nimport { useRouterTab, RouterTabs, useLayoutTitle, RequireAdmin } from '../../components';\nimport { AuthenticatedContext } from '../../contexts/authentication';\nimport { FeaturesContext } from '../../contexts/features';\nimport UploadFirmwareForm from './UploadFirmwareForm';\nimport SystemStatusForm from './SystemStatusForm';\nimport OTASettingsForm from './OTASettingsForm';\n\nconst System: FC = () => {\n  useLayoutTitle(\"System\");\n\n  const { me } = useContext(AuthenticatedContext);\n  const { features } = useContext(FeaturesContext);\n  const { routerTab } = useRouterTab();\n\n  return (\n    <>\n      <RouterTabs value={routerTab}>\n        <Tab value=\"status\" label=\"System Status\" />\n        {features.ota && (\n          <Tab value=\"ota\" label=\"OTA Settings\" disabled={!me.admin} />\n        )}\n        {features.upload_firmware && (\n          <Tab value=\"upload\" label=\"Upload Firmware\" disabled={!me.admin} />\n        )}\n      </RouterTabs>\n      <Routes>\n        <Route path=\"status\" element={<SystemStatusForm />} />\n        {features.ota && (\n          <Route\n            path=\"ota\"\n            element={\n              <RequireAdmin>\n                <OTASettingsForm />\n              </RequireAdmin>\n            }\n          />\n        )}\n        {features.upload_firmware && (\n          <Route\n            path=\"upload\"\n            element={\n              <RequireAdmin>\n                <UploadFirmwareForm />\n              </RequireAdmin>\n            }\n          />\n        )}\n        <Route path=\"/*\" element={<Navigate replace to=\"status\" />} />\n      </Routes>\n    </>\n  );\n\n};\n\nexport default System;\n"]},"metadata":{},"sourceType":"module"}