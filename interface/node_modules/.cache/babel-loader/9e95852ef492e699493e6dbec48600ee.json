{"ast":null,"code":"import jwtDecode from'jwt-decode';import{ACCESS_TOKEN,AXIOS}from\"./endpoints\";import{PROJECT_PATH}from'./env';export var SIGN_IN_PATHNAME='loginPathname';export var SIGN_IN_SEARCH='loginSearch';export var getDefaultRoute=function getDefaultRoute(features){return features.project?\"/\".concat(PROJECT_PATH):\"/wifi\";};export function verifyAuthorization(){return AXIOS.get('/verifyAuthorization');}export function signIn(request){return AXIOS.post('/signIn',request);}/**\n * Fallback to sessionStorage if localStorage is absent. WebView may not have local storage enabled.\n */export function getStorage(){return localStorage||sessionStorage;}export function storeLoginRedirect(location){if(location){getStorage().setItem(SIGN_IN_PATHNAME,location.pathname);getStorage().setItem(SIGN_IN_SEARCH,location.search);}}export function clearLoginRedirect(){getStorage().removeItem(SIGN_IN_PATHNAME);getStorage().removeItem(SIGN_IN_SEARCH);}export function fetchLoginRedirect(features){var signInPathname=getStorage().getItem(SIGN_IN_PATHNAME);var signInSearch=getStorage().getItem(SIGN_IN_SEARCH);clearLoginRedirect();return{pathname:signInPathname||getDefaultRoute(features),search:signInPathname&&signInSearch||undefined};}export var clearAccessToken=function clearAccessToken(){return localStorage.removeItem(ACCESS_TOKEN);};export var decodeMeJWT=function decodeMeJWT(accessToken){return jwtDecode(accessToken);};export function addAccessTokenParameter(url){var accessToken=getStorage().getItem(ACCESS_TOKEN);if(!accessToken){return url;}var parsedUrl=new URL(url);parsedUrl.searchParams.set(ACCESS_TOKEN,accessToken);return parsedUrl.toString();}","map":null,"metadata":{},"sourceType":"module"}