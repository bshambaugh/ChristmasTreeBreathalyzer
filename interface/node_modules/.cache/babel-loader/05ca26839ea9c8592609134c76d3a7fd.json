{"ast":null,"code":"import{Button,Checkbox}from'@mui/material';import SaveIcon from'@mui/icons-material/Save';import{SectionContent,FormLoader,BlockFormControlLabel,ButtonRow,MessageBox}from'../components';import{updateValue,useRest}from'../utils';import*as DemoApi from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LightStateRestForm=function LightStateRestForm(){var _useRest=useRest({read:DemoApi.readLightState,update:DemoApi.updateLightState}),loadData=_useRest.loadData,saveData=_useRest.saveData,saving=_useRest.saving,setData=_useRest.setData,data=_useRest.data,errorMessage=_useRest.errorMessage;var updateFormValue=updateValue(setData);var content=function content(){if(!data){return/*#__PURE__*/_jsx(FormLoader,{onRetry:loadData,errorMessage:errorMessage});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MessageBox,{level:\"info\",message:\"The form below controls the LED via the RESTful service exposed by the ESP device.\",my:2}),/*#__PURE__*/_jsx(BlockFormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{name:\"led_on\",disabled:saving,checked:data.led_on,onChange:updateFormValue,color:\"primary\"}),label:\"LED State?\"}),/*#__PURE__*/_jsx(ButtonRow,{mt:1,children:/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(SaveIcon,{}),disabled:saving,variant:\"contained\",color:\"primary\",type:\"submit\",onClick:saveData,children:\"Save\"})})]});};return/*#__PURE__*/_jsx(SectionContent,{title:\"REST Example\",titleGutter:true,children:content()});};export default LightStateRestForm;","map":{"version":3,"sources":["/home/brent/Documents/PlatformIO/Projects/ESP32_C3_Test/interface/src/project/LightStateRestForm.tsx"],"names":["Button","Checkbox","SaveIcon","SectionContent","FormLoader","BlockFormControlLabel","ButtonRow","MessageBox","updateValue","useRest","DemoApi","LightStateRestForm","read","readLightState","update","updateLightState","loadData","saveData","saving","setData","data","errorMessage","updateFormValue","content","led_on"],"mappings":"AAEA,OAASA,MAAT,CAAiBC,QAAjB,KAAiC,eAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CAEA,OAASC,cAAT,CAAyBC,UAAzB,CAAqCC,qBAArC,CAA4DC,SAA5D,CAAuEC,UAAvE,KAAyF,eAAzF,CACA,OAASC,WAAT,CAAsBC,OAAtB,KAAqC,UAArC,CAEA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,OAAzB,C,6IAGA,GAAMC,CAAAA,kBAAsB,CAAG,QAAzBA,CAAAA,kBAAyB,EAAM,CACnC,aAEIF,OAAO,CAAa,CAAEG,IAAI,CAAEF,OAAO,CAACG,cAAhB,CAAgCC,MAAM,CAAEJ,OAAO,CAACK,gBAAhD,CAAb,CAFX,CACEC,QADF,UACEA,QADF,CACYC,QADZ,UACYA,QADZ,CACsBC,MADtB,UACsBA,MADtB,CAC8BC,OAD9B,UAC8BA,OAD9B,CACuCC,IADvC,UACuCA,IADvC,CAC6CC,YAD7C,UAC6CA,YAD7C,CAIA,GAAMC,CAAAA,eAAe,CAAGd,WAAW,CAACW,OAAD,CAAnC,CAEA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAI,CAACH,IAAL,CAAW,CACT,mBAAQ,KAAC,UAAD,EAAY,OAAO,CAAEJ,QAArB,CAA+B,YAAY,CAAEK,YAA7C,EAAR,CACD,CAED,mBACE,wCACE,KAAC,UAAD,EACE,KAAK,CAAC,MADR,CAEE,OAAO,CAAC,oFAFV,CAGE,EAAE,CAAE,CAHN,EADF,cAME,KAAC,qBAAD,EACE,OAAO,cACL,KAAC,QAAD,EACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAEH,MAFZ,CAGE,OAAO,CAAEE,IAAI,CAACI,MAHhB,CAIE,QAAQ,CAAEF,eAJZ,CAKE,KAAK,CAAC,SALR,EAFJ,CAUE,KAAK,CAAC,YAVR,EANF,cAkBE,KAAC,SAAD,EAAW,EAAE,CAAE,CAAf,uBACE,KAAC,MAAD,EAAQ,SAAS,cAAE,KAAC,QAAD,IAAnB,CAAiC,QAAQ,CAAEJ,MAA3C,CAAmD,OAAO,CAAC,WAA3D,CAAuE,KAAK,CAAC,SAA7E,CAAuF,IAAI,CAAC,QAA5F,CAAqG,OAAO,CAAED,QAA9G,kBADF,EAlBF,GADF,CA0BD,CA/BD,CAiCA,mBACE,KAAC,cAAD,EAAgB,KAAK,CAAC,cAAtB,CAAqC,WAAW,KAAhD,UACGM,OAAO,EADV,EADF,CAKD,CA7CD,CA+CA,cAAeZ,CAAAA,kBAAf","sourcesContent":["import { FC } from 'react';\n\nimport { Button, Checkbox } from '@mui/material';\nimport SaveIcon from '@mui/icons-material/Save';\n\nimport { SectionContent, FormLoader, BlockFormControlLabel, ButtonRow, MessageBox } from '../components';\nimport { updateValue, useRest } from '../utils';\n\nimport * as DemoApi from './api';\nimport { LightState } from './types';\n\nconst LightStateRestForm: FC = () => {\n  const {\n    loadData, saveData, saving, setData, data, errorMessage\n  } = useRest<LightState>({ read: DemoApi.readLightState, update: DemoApi.updateLightState });\n\n  const updateFormValue = updateValue(setData);\n\n  const content = () => {\n    if (!data) {\n      return (<FormLoader onRetry={loadData} errorMessage={errorMessage} />);\n    }\n\n    return (\n      <>\n        <MessageBox\n          level=\"info\"\n          message=\"The form below controls the LED via the RESTful service exposed by the ESP device.\"\n          my={2}\n        />\n        <BlockFormControlLabel\n          control={\n            <Checkbox\n              name=\"led_on\"\n              disabled={saving}\n              checked={data.led_on}\n              onChange={updateFormValue}\n              color=\"primary\"\n            />\n          }\n          label=\"LED State?\"\n        />\n        <ButtonRow mt={1}>\n          <Button startIcon={<SaveIcon />} disabled={saving} variant=\"contained\" color=\"primary\" type=\"submit\" onClick={saveData}>\n            Save\n          </Button>\n        </ButtonRow>\n      </>\n    );\n  };\n\n  return (\n    <SectionContent title='REST Example' titleGutter>\n      {content()}\n    </SectionContent>\n  );\n};\n\nexport default LightStateRestForm;\n"]},"metadata":{},"sourceType":"module"}